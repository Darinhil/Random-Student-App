<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/Style1.css">
</head>

<body>
    <div class="navbar">
        <div class="logo-container">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="My Logo" class="logo">
            <h2 class="title">Random Student App</h2>
        </div>

        <nav class="main-nav">
            <ul>
                <li><a href="./index.html">Spinner</a></li>
                <li><a href="./Groub.html">Groub</a></li>
                <li><a href="R.picture.html">R.Picture</a></li>
            </ul>
        </nav>
    </div>

    <div class="con">
        <div class="card">
            <h3>Participant List</h3>
            <textarea id="participants" placeholder="Enter participant names (one per line or separated by commas)"></textarea>
            <div class="participant-count" id="count">0 participants</div>

            <div class="options">
                <div class="option-header">Group Formation Options</div>
                <div class="radio-group">
                    <label><input type="radio" name="mode" id="byTeams" checked> Number of Teams</label>
                    <label><input type="radio" name="mode" id="byParticipants"> Participants per Team</label>
                </div>

                <div class="switches">
                    <div class="switch-group">
                        <label>Team Leaders</label>
                        <label class="switch">
                            <input type="checkbox" id="teamLeaders">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="switch-group">
                        <label>Random Team Names</label>
                        <label class="switch">
                            <input type="checkbox" id="randomNames">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div style="margin-top:15px;">
                    <input type="number" id="numInput" min="2" value="2">
                </div>
            </div>

            <button class="btn" id="generateBtn">Generate Teams</button>
            <button class="discover">Random Student App</button>
        </div>
    </div>

    <script>
        const participantsInput = document.getElementById('participants');
        const countDisplay = document.getElementById('count');
        const numInput = document.getElementById('numInput');
        const generateBtn = document.getElementById('generateBtn');

        function getParticipants() {
            return participantsInput.value
                .split(/[\n,]+/)
                .map(p => p.trim())
                .filter(Boolean);
        }

        participantsInput.addEventListener('input', () => {
            const c = getParticipants().length;
            countDisplay.textContent = `${c} participant${c !== 1 ? 's' : ''}`;
        });

        generateBtn.addEventListener('click', () => {
            const data = {
                participants: getParticipants(),
                num: +numInput.value,
                byTeams: document.getElementById('byTeams').checked,
                leaders: document.getElementById('teamLeaders').checked,
                randomNames: document.getElementById('randomNames').checked
            };
            if (data.participants.length === 0) {
                alert('Please enter participants');
                return;
            }
            localStorage.setItem('teamData', JSON.stringify(data));
            location.href = 'result.html';
        });
    </script>
</body>

</html>
